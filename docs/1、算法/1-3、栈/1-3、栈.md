## 1. 概念

## 2. 经典题目
* 【42】给定 n 个非负整数表示每个宽度为 1 的柱子的高度图，计算按此排列的柱子，下雨之后能接多少雨水
  * 当遍历墙的高度的时候，如果当前高度小于栈顶的墙高度，说明可能会有积水
  * 当墙大于栈顶的高度，说明可以接水了
  * 取出上一面墙取最小者计算可以接的水
  * 需要注意理解计算宽度(i - deque.peek() - 1)
```
    public int trap(int[] heights) {
        if (heights == null || heights.length <= 1) {
            return 0;
        }
        int total = 0;
        Deque<Integer> deque = new LinkedList<>();
        for (int i = 0; i < heights.length; i++) {
            //如果当前矩形高于栈顶的,则说明有雨水可接
            while (!deque.isEmpty() && heights[i] > heights[deque.peek()]) {
                //取出栈顶的代表底部矩形
                int bottomIdx = deque.pop();
                //如果栈中无矩形，说明无水可接
                if (deque.isEmpty()) {
                    break;
                }
                //取与上一个的最低的矩形作为高
                int height = Math.min(heights[i], heights[deque.peek()]) - heights[bottomIdx];
                //计算宽乘以高得出面积为水
                total += (i - deque.peek() - 1) * height;
            }
            deque.push(i);
        }
        return total;
    }
```